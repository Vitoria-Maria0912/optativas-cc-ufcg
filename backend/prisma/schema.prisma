
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Discipline {
  id               Int        @id @default(autoincrement())
  type             Type       @default(OBRIGATORY)
  name             String     @unique 
  acronym          String     
  teacher          String     @default("Undefined")
  available        Boolean  @default(true)
  description      String
  pre_requisites   String[] 
  post_requisites  String[] 
  schedule         String     @default("Undefined")
  periods          Period[]   @relation("PeriodDisciplines")
}

model Period {
  id         Int          @id @default(autoincrement())
  name       String
  disciplines Discipline[] @relation("PeriodDisciplines")
  planning   Planning?    @relation("PlanningPeriods", fields: [planningId], references: [id])
  planningId Int?
}

model Planning {
  id      Int      @id @default(autoincrement())
  name    String   @unique
  periods Period[] @relation("PlanningPeriods")
}

enum Type {
  OBRIGATORY
  OPTATIVE
}

model Administrator {
  id               Int        @id @default(autoincrement())
}
